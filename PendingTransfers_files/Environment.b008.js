function StringifyObject(reqObj){var newObj=cloneJSObj(reqObj);return newObj=EncodeQuoteOnObject(newObj),JSON.stringify(newObj)}function EncodeQuoteOnObject(reqObj){var iHold,oArrayKey,chkObj;if(reqObj!=null)if(typeof reqObj=="string")reqObj=reqObj.replace(/"/g,"&quot;"),reqObj=reqObj.replace(/'/g,"&pos;");else if(reqObj.constructor===Array){iHold=0;for(oArrayKey in reqObj)reqObj[oArrayKey]=EncodeQuoteOnObject(reqObj[oArrayKey])}else if(typeof reqObj=="Object"||typeof reqObj=="object")for(chkObj in reqObj)reqObj[chkObj]=EncodeQuoteOnObject(reqObj[chkObj]);return reqObj}function cloneJSObj(obj){var i,len,copy,attr;if(null==obj||"object"!=typeof obj)return obj;if(obj instanceof Date)return copy=new Date,copy.setTime(obj.getTime()),copy;if(obj instanceof Array){for(copy=[],i=0,len=obj.length;i<len;i++)copy[i]=cloneJSObj(obj[i]);return copy}if(obj instanceof Object){copy={};for(attr in obj)obj.hasOwnProperty(attr)&&(copy[attr]=cloneJSObj(obj[attr]));return copy}return obj}function IsInIframe(){return window.location!=window.parent.location?!0:!1}function GetZIndexOfCtrl(ctrl){var curValue=$(ctrl).css("z-index"),curParent=$(ctrl).parent();while((curValue==null||curValue=="auto"||curValue==0&&Env.is_ie&&Env.minor<=7)&&curParent!=null)curValue=curParent.css("z-index"),curParent=curParent[0].tagName.toUpperCase()=="HTML"?null:curParent.parent();return curValue==null||curValue=="auto"?null:parseInt(curValue)}function BaseWSCallNoData(url,sucessCallback,errorCallBack){$.ajax({url:url,type:"POST",contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){var result=data.d;sucessCallback&&typeof sucessCallback!="undefined"&&sucessCallback(result)},error:function(XMLHttpRequest,textStatus,errorThrown){errorCallBack&&typeof errorCallBack!="undefined"&&errorCallBack(XMLHttpRequest,textStatus,errorThrown)}})}function BaseWSCall(url,datastring,sucessCallback,errorCallBack){$.ajax({url:url,type:"POST",data:"{"+datastring+"}",contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){var result=data.d;sucessCallback&&typeof sucessCallback!="undefined"&&sucessCallback(result)},error:function(XMLHttpRequest,textStatus,errorThrown){errorCallBack&&typeof errorCallBack!="undefined"&&errorCallBack(XMLHttpRequest,textStatus,errorThrown)}})}function BaseWSCallJSONData(url,data,sucessCallback,errorCallBack){$.ajax({url:url,type:"POST",data:data,contentType:"application/json; charset=utf-8",dataType:"json",success:function(data){var result=data.d;sucessCallback&&typeof sucessCallback!="undefined"&&sucessCallback(result)},error:function(XMLHttpRequest,textStatus,errorThrown){errorCallBack&&typeof errorCallBack!="undefined"&&errorCallBack(XMLHttpRequest,textStatus,errorThrown)}})}function BaseWSCallRetryTimeout(url,datastring,sucessCallback,errorCallBack,theRetryLimit,timeoutMs){$.ajax({url:url,type:"POST",data:"{"+datastring+"}",contentType:"application/json; charset=utf-8",dataType:"json",timeout:timeoutMs,tryCount:0,retryLimit:theRetryLimit,success:function(data){var result=data.d;sucessCallback&&typeof sucessCallback!="undefined"&&sucessCallback(result)},error:function(XMLHttpRequest,textStatus,errorThrown){textStatus=="timeout"?(this.timeout*=2,this.tryCount++,this.tryCount>this.retryLimit?errorCallBack&&typeof errorCallBack!="undefined"&&errorCallBack(XMLHttpRequest,textStatus,errorThrown):$.ajax(this)):errorCallBack&&typeof errorCallBack!="undefined"&&errorCallBack(XMLHttpRequest,textStatus,errorThrown)}})}function SetTextInPlaceTextBox(ctrl,newText){var plCtrl=ctrl;typeof ctrl.addClass=="undefined"&&(plCtrl=$(ctrl)),newText==""?(plCtrl.val(newText),typeof plCtrl.placeholder!="undefined"&&plCtrl.placeholder("show")):(plCtrl.val(newText),plCtrl.removeClass("placeholder"))}function PlaceHolderTextBoxValue(ctrl){var sResult="",plCtrl=ctrl;return typeof ctrl.hasClass=="undefined"&&(plCtrl=$(ctrl)),plCtrl.hasClass("placeholder")||(sResult=plCtrl.val()),sResult}function HasAttribute(ctrl,attrName){return typeof $(ctrl).attr(attrName)!="undefined"}function HasNonAscii(sValue){return!/^[a-zA-Z0-9._\n\r\-*]*$/.test(sValue)}function Env(){}function GDEvent(){}function Layer(){}function Utilities(){}function Validation(){}function GetBrowserScrollBarStatus(){var result={vScrollbar:!0,hScrollbar:!0},root;try{root=document.compatMode=="BackCompat"?document.body:document.documentElement,result.vScrollbar=root.scrollHeight>root.clientHeight,result.hScrollbar=root.scrollWidth>root.clientWidth}catch(e){}return result}function ZoomPercent(){var dPerc=1,devPix,logPix;return Env.is_ie?(devPix=screen.deviceXDPI,logPix=screen.logicalXDPI,dPerc=devPix/logPix):(Env.is_chrome||Env.is_Allsafari)&&(devPix=parseInt(document.defaultView.getComputedStyle(document.documentElement,null).width),logPix=document.documentElement.clientWidth,dPerc=devPix/logPix),dPerc}function UpdateDataGrids(){$(".data-grid").each(function(){$(this).find("tbody tr:visible").removeClass("data-grid-odd"),$(this).find("tbody tr:visible:even").addClass("data-grid-odd")}),$(".data-grid tr:visible").hover(function(){$(this).addClass("data-grid-hover")},function(){$(this).removeClass("data-grid-hover")}),$(".data-grid-selectable tr:visible").click(function(){$(this).hasClass("data-grid-selected")?($(this).removeClass("data-grid-selected"),$(this).find("input").attr("checked",!1)):($(this).addClass("data-grid-selected"),$(this).find("input").attr("checked",!0))}),$(".data-grid-scroll-body .data-grid:not([set])").each(function(){var htmlCol=$(this).children("colgroup").html(),htmlHead=$(this).children("thead").html(),newTable="<table class='data-grid data-grid-scroll-head' cellpadding=0 cellspacing=0 border=0><colgroup>"+htmlCol+"</colgroup>"+htmlHead+"</table>";$(this).parent(".data-grid-scroll-body").before(newTable),$(this).attr("set","1")})}function CheckAndDoAction(btn){var newScript=btn.getAttribute("aScript"),attDis=$(btn).attr("disabled"),fn;newScript==null||newScript==""||attDis==""||attDis=="disabled"||(typeof window[newScript]!="undefined"?window[newScript](btn):(fn=new Function(newScript),fn()))}function ConvertExponentToInt(sValue){var result=0,iIndex=sValue.indexOf("e+"),baseVal,expVal;return iIndex<0||(baseVal=parseFloat(sValue.substring(0,iIndex)),expVal=parseInt(sValue.substring(iIndex+2,sValue.length)),baseVal>0&&expVal>0&&(result=baseVal*Math.pow(10,expVal))),result}function FastballFromCtrl(ctrl){var ciCode=$(ctrl).attr("ci");ciCode&&ciCode!=""&&FastballClick(ciCode)}function FastballClick(ciCode){if(window.Fastball){var baseHidden=$("#hdnBaseFBClick");baseHidden&&baseHidden.length>0?baseHidden.attr("ci",ciCode):(baseHidden=$("<div />",{id:"hdnBaseFBClick",ci:ciCode,fastball:"event",event:"click",style:"display:none"}),baseHidden.appendTo("body"),baseHidden.Fastball("event")),baseHidden.click()}}function DUELDataGrid(){}function Currency(){}function OfferSections(){}var nonAlphaNumMatch,nonAsciiMatch;(function($){$.fn.extend({DelayRefresh:function(){return this.each(function(){$(this).data("timeout",null),$(this).keyup(function(){$(this).data("timeout",setTimeout(function(){typeof RefreshTimer!="undefined"&&RefreshSession()},5e3))}),$(this).keydown(function(){clearTimeout($(this).data("timeout"))})})}}),$.widget("gd.dropdownlistcheckbox",{_createContainer:function(controlItem){var self=this,options=this.options,sourceSelect=this.element,showType=options.showType!=null?options.showType:"dropdown",baseObj,baseId=sourceSelect.attr("id"),tabCtrl,contContent;(baseId==null||typeof baseId=="undefined")&&(baseId="gen"+($(".ddlcbx-container").length+1));var objId=baseId+"-ddcont",containObject=$("<div/>"),bHasOptGroups=sourceSelect.find("optgroup").length>0;sourceSelect.children().each(function(index){var selOpt=$(this),lblName,newOption,optKids,bKidSelected,innerChkBoxCont;if(selOpt.is("option"))self._appendOption(baseId,selOpt,containObject,index,bHasOptGroups,baseId,"",!0);else if(selOpt.is("optgroup")&&bHasOptGroups){lblName=selOpt.attr("label"),newOption=$("<div/>"),newOption.addClass("dllcbx-optitem"),optKids=selOpt.children(),bKidSelected=!1,bKidSelected=Env.is_ie?selOpt.find("option[selected]").length>0:selOpt.find("option[sel]").length>0;var checkString=bKidSelected?' checked="checked"':"",optId=baseId+"_opt"+index,chkBox=$('<input type="radio" name="'+baseId+'" id="'+optId+'"'+checkString+' group="'+lblName+'" value="'+lblName+'" />'),optLabel=$('<label for="'+optId+'" class="dllcbx-optitem-label" title="'+lblName+'" >'+lblName+"</label>");newOption.append(chkBox),newOption.append(optLabel),containObject.append(newOption),chkBox.change(function(){var curCtrl=$(this);$.gd.dropdownlistcheckbox.clicking||self._radioBoxClick(curCtrl)}),optKids.length>1&&(innerChkBoxCont=$('<div style="padding-left:5px;" />'),optKids.each(function(innerIndex){var kidOpt=$(this),indexStr;kidOpt.is("option")&&(indexStr=index.toString()+"x"+innerIndex.toString(),self._appendOption(baseId,kidOpt,innerChkBoxCont,indexStr,bHasOptGroups,"",lblName,bKidSelected))}),containObject.append(innerChkBoxCont))}}),showType=="link"?baseObj=$('<div class="lnkcbx-container" />'):showType=="dropdown"&&(baseObj=$('<div class="ddlcbx-container" />')),baseObj.attr("id",objId),baseObj.css("display","none"),contContent=null,showType=="link"?(tabCtrl=$('<div class="lnkcbx-containerCarrot" />'),baseObj.append(tabCtrl),contContent=$('<div class="lnkcbx-containerContent" />'),baseObj.append(contContent),contContent.append(containObject)):showType=="dropdown"&&(contContent=baseObj,baseObj.append(containObject)),baseObj.click(function(e){e.stopImmediatePropagation()}),IsInIframe()?parent.$("body").append(baseObj):$("body").append(baseObj);var baseWidth=Math.max(controlItem.outerWidth(),containObject.outerWidth()),contentWidth=options.contentWidth!=null?options.contentWidth:baseWidth,calcHeight=baseObj.outerHeight(),maxDropHeight=options.maxDropHeight!=null?parseInt(options.maxDropHeight):-1;return maxDropHeight>0&&calcHeight>maxDropHeight&&(calcHeight=maxDropHeight),contContent.outerHeight(calcHeight),contContent.outerWidth(contentWidth),baseObj},_radioBoxClick:function(chkBox){var self=this,options=this.options,sourceSelect=this.element,dropWrapper=this.dropWrapper,allChkBoxes=dropWrapper.find("input"),grpAttr=chkBox.attr("group"),oldChkbox=dropWrapper.find("input[type='checkbox']"),curValue=chkBox.attr("value"),selOpt=sourceSelect.find("option[value='"+curValue+"']"),otherOpt=sourceSelect.find("option[value!='"+curValue+"']");oldChkbox.attr("disabled","disabled"),oldChkbox.prop("checked",!1),grpAttr!=null&&grpAttr!=""&&dropWrapper.find("input[group='"+grpAttr+"'][type='checkbox']").removeAttr("disabled"),selOpt.attr("sel",""),otherOpt.removeAttr("sel"),self._updateTextBox(),$(this.element).change()},_appendOption:function(baseId,optSel,selContainer,optIndex,bHasOptGroups,radioName,groupName,groupSelected){var self=this,optText=optSel.html(),attSelected=optSel[0].getAttribute("selected"),optSelected=attSelected!=null&&typeof attSelected!="undefined",optCss=optSel.attr("style"),optValue=optSel.val(),optDisabled=optSel.prop("disabled"),attValue=optSel.attr("value"),newOption=$("<div/>"),optLabel;newOption.addClass("dllcbx-optitem"),optDisabled&&newOption.addClass("dllcbx-optitem-disable");var disString=optDisabled||!groupSelected?' disabled="disabled"':"",checkString=optSelected?' checked="checked"':"",groupString=groupName!=""?' group="'+groupName+'"':"",optId=baseId+"_opt"+optIndex,chkBox=null,bIsChkBox=!bHasOptGroups||groupName!="";chkBox=bIsChkBox?$('<input type="checkbox" id="'+optId+'"'+checkString+disString+groupString+' value="'+attValue+'" />'):$('<input type="radio" id="'+optId+'"'+checkString+disString+' name="'+radioName+'" value="'+attValue+'" />'),optLabel=$('<label for="'+optId+'" class="dllcbx-optitem-label" title="'+optText+'" >'+optText+"</label>"),bIsChkBox?chkBox.change(function(){var curCtrl=$(this);$.gd.dropdownlistcheckbox.clicking||self._checkBoxClick(curCtrl)}):chkBox.change(function(){var curCtrl=$(this);$.gd.dropdownlistcheckbox.clicking||self._radioBoxClick(curCtrl)}),newOption.append(chkBox),newOption.append(optLabel),selContainer.append(newOption)},_checkBoxClick:function(chkBox){var self=this,options=this.options,sourceSelect=this.element,dropWrapper=this.dropWrapper,selectOptions=sourceSelect.find("option"),allChkBoxes=dropWrapper.find("input"),iChkIndex=allChkBoxes.index(chkBox),curValue=chkBox.attr("value"),ioptCount,iChkCount,selOpt,allChecked;if(options.firstIsSelectAll&&iChkIndex==0){for($.gd.dropdownlistcheckbox.clicking=!0,ioptCount=0;ioptCount<selectOptions.length;ioptCount++)chkBox.prop("checked")?$(selectOptions[ioptCount]).attr("sel",""):$(selectOptions[ioptCount]).removeAttr("sel");for(iChkCount=1;iChkCount<allChkBoxes.length;iChkCount++)$(allChkBoxes[iChkCount]).prop("checked",chkBox.prop("checked"));$.gd.dropdownlistcheckbox.clicking=!1}else iChkIndex>0&&(selOpt=sourceSelect.find("option[value='"+curValue+"']"),chkBox.prop("checked")?(selOpt.attr("sel",""),options.firstIsSelectAll&&(allChecked=dropWrapper.find("input:checked"),allChecked.length==allChkBoxes.length-1&&allChecked.index(allChkBoxes[0])==-1&&($.gd.dropdownlistcheckbox.clicking=!0,$(allChkBoxes[0]).prop("checked",!0),$(selectOptions[0]).attr("sel",""),$.gd.dropdownlistcheckbox.clicking=!1))):(selOpt.removeAttr("sel"),options.firstIsSelectAll&&$(allChkBoxes[0]).prop("checked")&&($.gd.dropdownlistcheckbox.clicking=!0,$(allChkBoxes[0]).prop("checked",!1),$(selectOptions[0]).removeAttr("sel"),$.gd.dropdownlistcheckbox.clicking=!1)));self._updateTextBox(),$(this.element).change()},_createControl:function(){var self=this,options=this.options,sourceSelect=this.element,showType=options.showType!=null?options.showType:"dropdown",ddlWidth=sourceSelect.width(),baseObj,ctrlId=sourceSelect.attr("id"),disAtt,isDisabled,icnbox,txtbox,downicn;return showType=="dropdown"?(disAtt=sourceSelect.attr("disabled"),isDisabled=disAtt!=null,baseObj=$("<span />"),baseObj.addClass("ddlcbx-ctrl"),baseObj.css({width:ddlWidth+"px"}),isDisabled&&baseObj.attr("disabled","disabled"),ctrlId=ctrlId+"-ddcl",baseObj.attr("id",ctrlId),txtbox=$("<span />"),txtbox.addClass("ddlcbx-ctrltxt"),txtbox.css({width:ddlWidth-32+"px"}),baseObj.append(txtbox),icnbox=$("<div />"),icnbox.addClass("ddlcbx-ctrlicn"),baseObj.append(icnbox),downicn=$("<span />"),downicn.addClass("dllcbx-downicn"),icnbox.append(downicn)):showType=="link"&&(baseObj=$("<span />"),baseObj.addClass("lnkcbx-ctrl"),ctrlId=ctrlId+"-ddcl",baseObj.attr("id",ctrlId),txtbox=$("<span />"),txtbox.addClass("lnkcbx-ctrltxt"),baseObj.append(txtbox),downicn=$("<span />"),downicn.addClass("lnkcbx-downicn"),baseObj.append(downicn)),baseObj.click(function(event){var attDisabled=self.controlWrapper.attr("disabled"),isDisabled=attDisabled!=null;isDisabled||(event.stopImmediatePropagation(),self._toggleContainer(!self.dropWrapper.isOpen))}),baseObj.insertAfter(sourceSelect),baseObj},_updateTextBox:function(){var sourceSelect=this.element,options=this.options,showType=options.showType!=null?options.showType:"dropdown",noneSelectedText=options.noneSelectedText!=null?options.noneSelectedText:"",txtBox,text;showType=="dropdown"?(txtBox=this.controlWrapper.find(".ddlcbx-ctrltxt"),text=this._formatText(),text==""&&(text=noneSelectedText),txtBox.html(text)):showType=="link"&&(txtBox=this.controlWrapper.find(".lnkcbx-ctrltxt"),text=this._formatText(),text==""&&(text=noneSelectedText),txtBox.html(text))},_formatText:function(){var sResult="",options=this.options,sourceSelect=this.element,selectOptions=sourceSelect.find("option[sel]"),firstKid=sourceSelect.find("option:first-child"),selectText;return options.firstIsSelectAll&&selectOptions.index(firstKid)>=0?sResult=options.allText!=null?options.allText:"ALL":selectOptions.length==1?sResult=selectOptions[0].text:selectOptions.length>1&&(selectText=options.selectedText!=null?options.selectedText:"Selected",sResult=selectText+" ("+selectOptions.length+")"),sResult},_toggleContainer:function(openIt){var self=this,sourceSelect=this.element,options=this.options,showType=options.showType!=null?options.showType:"dropdown",hideContainer=function(){self.dropWrapper.isOpen=!1,self.dropWrapper.css("display","none"),IsInIframe()?($(document).unbind("click",hideContainer),parent.$(".sf-dialog-overlay").unbind("click",hideContainer),parent.$(".sf-dialog-modal").unbind("click",hideContainer)):$(document).unbind("click",hideContainer)},showContainer=function(instance){var checkPos,zIndex,layerZIndex,allChkBoxes,allSelOptions,bHasOptGroups,groupCheck,bCurrent,iOptCounter;self.dropWrapper.isOpen=!0;var iLeftPos=0,iTopPos=0,ctrlHeight=self.controlWrapper.outerHeight(),ctrlPosition=self.controlWrapper.offset();IsInIframe()?(checkPos=parent.$("#"+window.name).closest(".sf-dialog-inner").offset(),iLeftPos=ctrlPosition.left+checkPos.left,iTopPos=ctrlPosition.top+checkPos.top+ctrlHeight):(iLeftPos=ctrlPosition.left,iTopPos=ctrlPosition.top+ctrlHeight),self.dropWrapper.css("left",iLeftPos+"px"),self.dropWrapper.css("top",iTopPos+"px"),IsInIframe()?(zIndex=parent.$("#"+window.name).closest(".sflayer-dialog").css("z-index"),typeof zIndex!="string"||zIndex.indexOf("e+")<0||(zIndex=ConvertExponentToInt(zIndex)),self.dropWrapper.css("z-index",zIndex+10)):(zIndex=parseFloat(GetZIndexOfCtrl(sourceSelect[0])),layerZIndex=parseFloat($(sourceSelect[0]).closest(".sflayer").css("zIndex")),zIndex!=null&&zIndex!=undefined&&zIndex!=NaN&&(layerZIndex!=null&&layerZIndex!=undefined&&layerZIndex!=NaN&&layerZIndex>zIndex&&(zIndex=layerZIndex),zIndex=Math.floor(zIndex),zIndex>0&&self.dropWrapper.css("z-index",zIndex+1))),allChkBoxes=self.dropWrapper.find("input"),allSelOptions=sourceSelect.find("option");if(options.firstIsSelectAll&&HasAttribute(allSelOptions[0],"sel")){for($.gd.dropdownlistcheckbox.clicking=!0,iOptCounter=0;iOptCounter<allSelOptions.length;iOptCounter++)$(allSelOptions[iOptCounter]).attr("sel",""),$(allChkBoxes[iOptCounter]).prop("checked",!0);$.gd.dropdownlistcheckbox.clicking=!1}else{bHasOptGroups=sourceSelect.find("optgroup").length>0;if(bHasOptGroups)for(groupCheck={},iOptCounter=0;iOptCounter<allSelOptions.length;iOptCounter++){var bIsChecked=HasAttribute(allSelOptions[iOptCounter],"sel"),valAtt=$(allSelOptions[iOptCounter]).attr("value"),selChkBox=self.dropWrapper.find("input[value='"+valAtt+"']"),groupAtt=selChkBox.attr("group");selChkBox.prop("checked",bIsChecked),groupAtt!=null&&groupAtt!=""&&(bCurrent=groupCheck[groupAtt],bCurrent=bCurrent==null?!1:bCurrent,groupCheck[groupAtt]=bCurrent||bIsChecked)}else for(iOptCounter=0;iOptCounter<allSelOptions.length;iOptCounter++)$(allChkBoxes[iOptCounter]).prop("checked",HasAttribute(allSelOptions[iOptCounter],"sel"))}self.dropWrapper.css("display",""),IsInIframe()?(parent.$(".sf-dialog-modal").bind("click",function(){hideContainer(instance)}),parent.$(".sf-dialog-veil").bind("click",function(){hideContainer(instance)}),$(document).bind("click",function(){hideContainer(instance)}),parent.$(".sf-dialog-overlay").bind("click",function(){hideContainer(instance)})):$(document).bind("click",function(){hideContainer(instance)})};openIt?showContainer(self):hideContainer(self)},_create:function(){},_refresh:function(){},_init:function(){var options=this.options,self=this,sourceSelect=this.element,setAtt=sourceSelect.attr("set"),selOptions,newSelect,newList,selValue,iCount,curValue;if(setAtt!="1")for(sourceSelect.css("display","none"),sourceSelect.prop("multiple")||sourceSelect.attr("multiple","multiple"),selOptions=sourceSelect.find("option[selected]"),selOptions.attr("sel",""),selOptions.removeAttr("selected"),newSelect=this._createControl(),newList=this._createContainer(newSelect),this.controlWrapper=newSelect,this.dropWrapper=newList,self._updateTextBox(),sourceSelect.attr("set","1"),selValue=sourceSelect.find("option[sel]"),this.firstSelect=[],iCount=0;iCount<selValue.length;iCount++)curValue=$(selValue[iCount]).val(),this.firstSelect.push(curValue);sourceSelect.change(function(){self._updateTextBox()})},destroy:function(){var sourceSelect=this.element;IsInIframe()&&(parent.$(".sf-dialog-modal").unbind("click"),parent.$(".sf-dialog-veil").unbind("click"),parent.$(".sf-dialog-overlay").unbind("click")),$(document).unbind("click"),this.dropWrapper.remove(),this.controlWrapper.remove(),sourceSelect.removeAttr("set"),sourceSelect.css("display","")},enable:function(){this.controlWrapper.removeAttr("disabled"),this.element.removeAttr("disabled")},disable:function(){this.controlWrapper.attr("disabled","disabled"),this.element.attr("disabled","disabled")},getSelected:function(){var sourceSelect=this.element;return sourceSelect.find("option[sel]")},getSelectedValues:function(){for(var sourceSelect=this.element,selValue=sourceSelect.find("option[sel]"),lResult=[],curValue,iCount=0;iCount<selValue.length;iCount++)curValue=$(selValue[iCount]).val(),lResult.push(curValue);return lResult},getFirstValues:function(){return this.firstSelect}})})(jQuery),Array.prototype.indexOf||(Array.prototype.indexOf=function(elt){var len=this.length,from=Number(arguments[1])||0;for(from=from<0?Math.ceil(from):Math.floor(from),from<0&&(from+=len);from<len;from++)if(from in this&&this[from]===elt)return from;return-1}),Env.minWidth=950,Env.minHeight=300,Env.agent=navigator.userAgent.toLowerCase(),Env.appVer=navigator.appVersion.toLowerCase(),Env.minor=parseFloat(Env.appVer),Env.major=parseInt(Env.minor),Env.iePos=Env.appVer.indexOf("msie"),Env.iePos!=-1&&(Env.minor=parseFloat(Env.appVer.substring(Env.iePos+5,Env.appVer.indexOf(";",Env.iePos))),Env.major=parseInt(Env.minor)),Env.is_konq=!1,Env.kqPos=Env.agent.indexOf("konqueror"),Env.kqPos!=-1&&(Env.is_konq=!0,Env.minor=parseFloat(Env.agent.substring(Env.kqPos+10,Env.agent.indexOf(";",Env.kqPos))),Env.major=parseInt(Env.minor)),Env.is_opera=window.opera?!0:!1,Env.is_safari=Env.agent.indexOf("safari")!=-1&&Env.agent.indexOf("mac")!=-1?!0:!1,Env.is_Allsafari=Env.agent.indexOf("safari")!=-1?!0:!1,Env.is_khtml=Env.is_safari||Env.is_konq,Env.is_gecko=!Env.is_khtml&&navigator.product&&navigator.product.toLowerCase()=="gecko"?!0:!1,Env.is_firefox=Env.is_gecko&&navigator.vendor=="",Env.ff_version=Env.is_gecko&&navigator.vendor=="Firefox"?navigator.vendorSub:"0",Env.is_netscape=navigator.appName=="Netscape"&&navigator.vendor=="Netscape"&&parseFloat(navigator.appVersion)>=4.7?!0:!1,Env.is_ie=Env.iePos!=-1&&!Env.is_opera&&!Env.is_khtml,Env.is_ie6up=Env.is_ie&&Env.minor>=6,Env.is_aol=Env.agent.indexOf("aol")!=-1,Env.is_webtv=Env.agent.indexOf("webtv")!=-1,Env.is_win=Env.agent.indexOf("win")!=-1||Env.agent.indexOf("16bit")!=-1,Env.is_mac=Env.agent.indexOf("mac")!=-1,Env.is_ipad=Env.agent.indexOf("ipad")!=-1,Env.is_iphone=Env.agent.indexOf("iphone")!=-1,Env.is_chrome=Env.agent.indexOf("chrome")!=-1,Env.canDoHTML5=!(Env.is_ie&&Env.minor<=9),Env.currentCSS=null,Env.is_mac&&(Env.is_win=!1),Env.toString=function(){var i,str="";for(i in Env)typeof Env[i]!="function"&&typeof Env[i]!="object"&&(str+=i+": "+Env[i]+"<br>");return str},Env.postback_only=!1,Env.bodyScrollBar=Env.is_opera||Env.is_safari,Env.cannot_Resize=Env.is_opera,Env.showFlash=!Env.is_opera&&!Env.is_Allsafari,Env.newDropDownWidth=!0,Env.maxCustomHeight=1e3,Env.maxCustomWidth=1e3,Env.scrollLeft=function(){return window.pageXOffset?window.pageXOffset:document.documentElement&&document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body&&document.body.scrollLeft?document.body.scrollLeft:0},Env.scrollTop=function(){return window&&window.pageYOffset!=null?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body&&document.body.scrollTop?document.body.scrollTop:0},Env.scrollHeight=function(){return self&&self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body&&document.body.clientHeight?document.body.clientHeight:typeof window.innerHeight=="number"?window.innerHeight:0},Env.windowWidth=function(){return document.documentElement&&document.documentElement.clientWidth?document.documentElement.clientWidth:document.body&&document.body.clientWidth?document.body.clientWidth:typeof window.innerWidth=="number"?window.innerWidth:0},Env.windowHeight=function(){return self&&self.innerHeight?self.innerHeight:document.documentElement&&document.documentElement.clientHeight?document.documentElement.clientHeight:document.body&&document.body.clientHeight?document.body.clientHeight:typeof window.innerHeight=="number"?window.innerHeight:0},Env.GoToPage=function(url){window.parent?window.parent.location=url:window.location=url},Env.OpenPage=function(url,name,style){window.open(url,name,style)},Env.ValidDropInURL=function(url){return url.indexOf("DropinLoad_")>=0},Env.GetOSNameAndVersion=function(){var sOSName="",sText="",sOSVersion="",agt=Env.agent.toLowerCase(),iStart,iEnd,iNumStart;return agt.indexOf("win95")!=-1?(sOSName="win95",sText=""):agt.indexOf("windows 95")!=-1?(sOSName="win95",sText="windows 95"):agt.indexOf("win16")!=-1||agt.indexOf("16bit")!=-1||agt.indexOf("windows 3.1")!=-1||agt.indexOf("windows 16-bit")!=-1?(sOSName="win16",agt.indexOf("win16")!=-1?sText="win16":agt.indexOf("16bit")!=-1?sText="16bit":agt.indexOf("windows 3.1")!=-1?sText="windows 3.1":agt.indexOf("windows 16-bit")!=-1&&(sText="windows 16-bit")):agt.indexOf("win98")!=-1||agt.indexOf("windows 98")!=-1?(sOSName="win98",agt.indexOf("win98")!=-1?sText="win98":agt.indexOf("windows 98")!=-1&&(sText="windows 98")):agt.indexOf("winnt")!=-1||agt.indexOf("windows nt")!=-1?(sOSName="winnt",agt.indexOf("winnt")!=-1?sText="winnt":agt.indexOf("windows nt")!=-1&&(sText="windows nt")):agt.indexOf("os/2")!=-1||navigator.appVersion.indexOf("OS/2")!=-1||agt.indexOf("ibm-webexplorer")!=-1?(sOSName="os2",agt.indexOf("os/2")!=-1?sText="os/2":agt.indexOf("ibm-webexplorer")!=-1&&(sText="ibm-webexplorer")):agt.indexOf("win")!=-1||agt.indexOf("16bit")!=-1?sOSName="win":Env.is_mac&&(sOSName="mac"),sText!=""&&(iStart=agt.indexOf(sText),iStart<0||(iEnd=agt.indexOf(";",iStart),iEnd<0||(iNumStart=iStart+sText.length,sOSVersion=agt.substring(iNumStart,iEnd).trim()))),{name:sOSName,version:sOSVersion}},GDEvent.windowEvents=",load,unload,resize,scroll,resizestart,resizeend,",GDEvent.anonFunctions=[],GDEvent.eventStack=[],GDEvent.inputToFunction=function(input,allowCache){var list,newfunc,i,str;allowCache==null&&(allowCache=!0);if(typeof input=="string"){eval("newfunc = function(f1,f2,f3,f4,f5) { "+input+" }");if(allowCache){for(str=newfunc.toString(),i=0;i<GDEvent.anonFunctions.length;i++)if(GDEvent.anonFunctions[i].toString()==str)return GDEvent.anonFunctions[i];GDEvent.anonFunctions[GDEvent.anonFunctions.length]=newfunc}return newfunc}return typeof input=="function"?input:null},GDEvent._inputToEventTarget=function(eventname,input){return input==null?GDEvent.windowEvents.indexOf(","+eventname+",")<0?document:window:GDEvent.get(input)},GDEvent.checkAndAdd=function(eventname,func,obj,allowCache){GDEvent.windowEvents.indexOf(","+eventname+",")<0&&GDEvent.add(eventname,func,obj,allowCache)},GDEvent.add=function(eventname,func,obj,allowCache){var target=GDEvent._inputToEventTarget(eventname,obj);return eventname=="load"&&(allowCache=!1),func=GDEvent.inputToFunction(func,allowCache),GDEvent.eventStack[GDEvent.eventStack.length]={target:target,eventname:eventname,func:func},Env.is_ie?Env.is_mac?!1:target.attachEvent("on"+eventname,func):target.addEventListener(eventname,func,!0)},GDEvent.remove=function(eventname,func,obj){var target=GDEvent._inputToEventTarget(eventname,obj);return func=GDEvent.inputToFunction(func),Env.is_ie?Env.is_mac?!1:target.detachEvent("on"+eventname,func):target.removeEventListener(eventname,func,!0)},GDEvent.cleanup=function(){for(var i=0;i<GDEvent.eventStack.length;i++)with(GDEvent.eventStack[i])GDEvent.remove(eventname,func,target);GDEvent.eventStack=[]},GDEvent.cancel=function(event){return Env.is_ie?(event.cancelBubble=!0,event.returnValue=!1):event.preventDefault&&(event.preventDefault(),event.stopPropagation()),!1},GDEvent.target=function(event){var target;return target=Env.is_ie?event.srcElement:event.target,Env.is_safari&&target.nodeType==3&&(target=target.parentNode),target?target:!1},GDEvent.setTarget=function(event,elem){var obj=GDEvent.get(elem);return Env.is_ie?event.srcElement=obj:event.target=obj,event},GDEvent.wasOnTag=function(event,tagname){var target=Env.is_ie?event.srcElement:event.target;return target.tagname.toLowerCase()==tagname.toLowerCase()},GDEvent.getTrForClick=function(e,ignoreLinks){var tag=GDEvent.target(e);ignoreLinks==null&&(ignoreLinks=!0);if(ignoreLinks&&tag.tagName=="A")return null;while(tag&&tag.tagName!="TR"&&tag.tagName!="TABLE"&&tag.tagName!="BODY")tag=tag.parentNode;return!tag||tag.tagName!="TR"?null:tag},GDEvent.absX=function(event){return Env.is_ie?event.clientX+document.documentElement.scrollLeft+document.body.scrollLeft:event.clientX+window.scrollX},GDEvent.absY=function(event){return Env.is_ie?event.clientY+document.documentElement.scrollTop+document.body.scrollTop:event.clientY+window.scrollY},GDEvent.keyCode=function(event){return event.keyCode>0?event.keyCode:event.which},GDEvent.selectMoreKey=function(event){return Env.is_mac?event.metaKey:event.ctrlKey},GDEvent.tabKey=function(event,forward,backward){var keycode=GDEvent.keyCode(event);if(keycode!=9&&keycode!=65289)return!0;if(event.shiftKey){GDEvent.cancel(event);if(backward)return typeof backward=="function"?backward():eval(backward),!1}else{GDEvent.cancel(event);if(forward)return typeof forward=="function"?forward():eval(forward),!1}return!0},GDEvent.get=function(elem){return typeof elem=="object"?elem:document.getElementById(elem)},GDEvent.ClickClick=[],GDEvent.ClickParent=[],GDEvent.CheckBodyClick=function(ev){var iCounter;if(GDEvent.ClickClick.length>0){iCounter=0;while(iCounter<GDEvent.ClickClick.length){var bCallIt=!0,sParent=GDEvent.ClickParent[iCounter],parentObj=null;sParent!=null&&sParent!=""&&(parentObj=GDEvent.get(sParent)),parentObj!=null&&(bCallIt=Env.is_ie?!Utilities.isChildOf(parentObj,ev.srcElement):!Utilities.isChildOf(parentObj,ev.target));if(bCallIt){var functionName=GDEvent.ClickClick[iCounter],splitInfo=functionName.split("|"),sNewCall=splitInfo[0];window.setTimeout(sNewCall,0)}iCounter++}}},GDEvent.AddCheckClick=function(functionName){var bFound=!1,iCounter=0,splitInfo=functionName.split("|"),functionTrue=splitInfo[0],parentName=splitInfo[1];while(!bFound&&iCounter<GDEvent.ClickClick.length)GDEvent.ClickClick[iCounter]==functionTrue&&(bFound=!0),iCounter++;bFound||(GDEvent.ClickClick.push(functionName),GDEvent.ClickParent.push(parentName))},GDEvent.RemoveCheckClick=function(functionName){var iCounter=0,splitInfo;while(iCounter<GDEvent.ClickClick.length)splitInfo=GDEvent.ClickClick[iCounter].split("|"),splitInfo[0]==functionName?(GDEvent.ClickClick.splice(iCounter,1),GDEvent.ClickParent.splice(iCounter,1)):iCounter++},GDEvent.WhichStyleSheetUse=function(styleSheet){var oResult=styleSheet[0],iNumber,iCount;if(Env.currentCSS==null){iNumber=0;if(styleSheet.length>1)for(iCount=0;iCount<styleSheet.length;iCount++)if(styleSheet[iCount].href!=null&&styleSheet[iCount].href.indexOf("DCC_Main")>0){iNumber=iCount;break}Env.currentCSS=styleSheet[iNumber],oResult=styleSheet[iNumber]}else oResult=Env.currentCSS;return oResult},Layer.elementLevels=[],Layer.backgroundHidden=!1,Layer.backgroundZIndex=2,Layer.backgroundStack=0,Layer.mouseDown=!1,Layer.get=function(elem){return typeof elem=="object"?elem:document.getElementById(elem)},Layer.style=function(elem){var l=Layer.get(elem);return l?l.style:null},Utilities.FilterIPKeyEvent=function(ev){ev=ev||window.event;var key=ev.keyCode||ev.charCode;return(key<48||key>57)&&key!=190&&key!=46&&key!=13&&key!=9&&key!=8&&key!=37&&key!=39?(ev.returnValue=!1,!1):!0},Utilities.FilterV6IPKeyEvent=function(ev){ev=ev||window.event;var key=ev.keyCode||ev.charCode;return(key<48||key>57)&&(key<65||key>70)&&(key<97||key>102)&&key!=58&&key!=190&&key!=46&&key!=13&&key!=9&&key!=8&&key!=37&&key!=39?(ev.returnValue=!1,!1):!0},Utilities.FilterDoubleKeyEvent=function(ev,control){var key,currentValue,showIndex;return ev=ev||window.event,key=ev.keyCode||ev.charCode,(key<48||key>57)&&key!=190&&key!=46&&key!=13&&key!=9&&key!=8&&key!=37&&key!=39?(ev.returnValue=!1,!1):(currentValue=control.value,showIndex=currentValue.indexOf("."),showIndex>-1&&key==46?(ev.returnValue=!1,!1):!0)},Utilities.ChangeImage=function(controlID,imageURL){var controlObj=Layer.get(controlID);controlObj&&(controlObj.src=imageURL)},Utilities.IsRightButtonClick=function(ev){var result=!1;return result=ev.which==null?ev.button<2?!1:ev.button==4?!1:!0:ev.button<2?!1:ev.button==2?!1:!0},Utilities.sectionGuid=function(){return((1+Math.random())*65536|0).toString(16).substring(1)},Utilities.generateGuid=function(){return(Utilities.sectionGuid()+Utilities.sectionGuid()+"-"+Utilities.sectionGuid()+"-"+Utilities.sectionGuid()+"-"+Utilities.sectionGuid()+"-"+Utilities.sectionGuid()+Utilities.sectionGuid()+Utilities.sectionGuid()).toUpperCase()},Utilities.GetControlPosition=function(control){var iResultX=0,iResultY=0,holdC=control;do iResultX+=holdC.offsetLeft,iResultY+=holdC.offsetTop,holdC=holdC.offsetParent,holdC&&(iResultX-=holdC.scrollLeft,iResultY-=holdC.scrollTop);while(holdC);return{x:iResultX,y:iResultY}},Utilities.GetControlSize=function(control){var iHeight=0,iWidth=0;return control.clientHeight&&(iHeight=parseInt(control.clientHeight,10)),control.clientWidth&&(iWidth=parseInt(control.clientWidth,10)),iHeight==0&&control.offsetHeight&&(iHeight=control.offsetHeight),iHeight==0&&control.style.height!=""&&(iHeight=parseInt(control.style.height,10)),iWidth==0&&control.offsetWidth&&(iWidth=control.offsetWidth),iWidth==0&&control.style.width!=""&&(iWidth=parseInt(control.style.width,10)),{height:iHeight,width:iWidth}},Utilities.GetControlScrollPosition=function(control){var iResultX=0,iResultY=0,holdC=control;do holdC.scrollLeft!=null&&holdC.scrollLeft!=undefined&&(iResultX+=holdC.scrollLeft),holdC.scrollTop!=null&&holdC.scrollTop!=undefined&&(iResultY+=holdC.scrollTop),holdC=holdC.parentNode;while(holdC);return{x:iResultX,y:iResultY}},Utilities.HasUserPutInText=function(ev,control){var key,lengthInc,iDeleteLength,oTR,orgValue,orgLength;return ev=ev||window.event,key=ev.keyCode||ev.charCode,lengthInc=1,key==8||key==46?lengthInc=-1:(key<46||key>90&&key<96||key>111&&key<186)&&(lengthInc=0),iDeleteLength=0,control.document!=null&&control.document.selection!=null&&control.document.selection.createRange&&(oTR=control.document.selection.createRange(),iDeleteLength=oTR.text.length),iDeleteLength>0&&lengthInc<0&&(lengthInc=0),orgValue=control.value,orgLength=orgValue.length+lengthInc-iDeleteLength,orgLength>0},Utilities.DisableLink=function(linkId,enable){var lnkAction=GDEvent.get(linkId),attHref;return lnkAction&&(enable?(lnkAction.setAttribute("href",lnkAction.attributes.href_bak.nodeValue),lnkAction.removeAttribute("href_bak"),lnkAction.style.color="blue"):(attHref=lnkAction.getAttribute("href"),attHref&&attHref!=""&&attHref!=null&&lnkAction.setAttribute("href_bak",attHref),lnkAction.removeAttribute("href"),lnkAction.style.color="gray")),!1},Utilities.isChildOf=function(parent,child){var bResult=!0;if(parent!=child){while(child&&child!=parent)child=child.parentNode;bResult=child==parent}return bResult},Utilities.changeRoundedBox=function(clientID,imagePath,boxType){var masterDiv=GDEvent.get(clientID),topLeftDiv,topRightDiv,innerTable,bottomLeftDiv,bottomRightDiv;if(masterDiv!=null&&masterDiv.childNodes.length>2){var topImage=imagePath+"/bk_roundcorner_"+boxType+"top_a.gif",tlImage=imagePath+"/bk_roundcorner_"+boxType+"topleft_a.gif",trImage=imagePath+"/bk_roundcorner_"+boxType+"topright_a.gif",bottomImage=imagePath+"/bk_roundcorner_"+boxType+"bottom_a.gif",blImage=imagePath+"/bk_roundcorner_"+boxType+"bottomleft_a.gif",brImage=imagePath+"/bk_roundcorner_"+boxType+"bottomright_a.gif",leftImage=imagePath+"/bk_roundcorner_"+boxType+"sideleft_a.gif",rightImage=imagePath+"/bk_roundcorner_"+boxType+"sideright_a.gif",middleColor="#FFFFFF";switch(boxType){case"green":middleColor="#E4EFC7";break;case"white":middleColor="#FFFFFF";break;case"yellow":middleColor="#FEF3BF"}var topDiv=masterDiv.childNodes[0],middleDiv=masterDiv.childNodes[1],bottomDiv=masterDiv.childNodes[2];topDiv!=null&&(topDiv.style.backgroundImage="url("+topImage+")",topDiv.childNodes.length>1&&(topLeftDiv=topDiv.childNodes[0],topRightDiv=topDiv.childNodes[1],topLeftDiv.style.backgroundImage="url("+tlImage+")",topRightDiv.style.backgroundImage="url("+trImage+")"));if(middleDiv!=null&&middleDiv.childNodes.length>0){innerTable=middleDiv.childNodes[0];if(innerTable.rows.length>0&&innerTable.rows[0].cells.length>2){var leftSide=innerTable.rows[0].cells[0],rightSide=innerTable.rows[0].cells[2],middleCell=innerTable.rows[0].cells[1],middleArea=middleCell.childNodes[0];leftSide.style.backgroundImage="url("+leftImage+")",rightSide.style.backgroundImage="url("+rightImage+")",middleArea.style.backgroundColor=middleColor}}bottomDiv!=null&&(bottomDiv.style.backgroundImage="url("+bottomImage+")",bottomDiv.childNodes.length>1&&(bottomLeftDiv=bottomDiv.childNodes[0],bottomRightDiv=bottomDiv.childNodes[1],bottomLeftDiv.style.backgroundImage="url("+blImage+")",bottomRightDiv.style.backgroundImage="url("+brImage+")"))}},Utilities.hasClass=function(ele,cls){return ele.className.match(new RegExp("(\\s|^)"+cls+"(\\s|$)"))},Utilities.addClass=function(ele,cls){Utilities.hasClass(ele,cls)||(ele.className+=" "+cls)},Utilities.removeClass=function(ele,cls){if(Utilities.hasClass(ele,cls)){var reg=new RegExp("(\\s|^)"+cls+"(\\s|$)");ele.className=ele.className.replace(reg," ")}},Utilities.hoverChangeClass=function(control,newClass){control.Class=control.className,control.className=newClass},Utilities.offHoverChangeClass=function(control){control.className=control.Class},Utilities.roundNumber=function(num,dec){return Math.round(num*Math.pow(10,dec))/Math.pow(10,dec)},Utilities.truncateString=function(str,numPlace){var result=str;return str.length>numPlace&&(result=str.substring(0,numPlace)+"..."),result},Utilities.roundNumberToString=function(num,dec){var result="",calcit;return dec>0?(calcit=Math.round(num*Math.pow(10,dec))+"",result=calcit.substring(0,calcit.length-dec)+"."+calcit.substring(calcit.length-dec)):result=num+"",result},Utilities.getClassElementValue=function(theClass,theElement){for(var cssRules,sResult="",R,S=0;S<document.styleSheets.length;S++)for(document.styleSheets[S].rules?cssRules="rules":document.styleSheets[S].cssRules&&(cssRules="cssRules"),R=0;R<document.styleSheets[S][cssRules].length;R++)if(document.styleSheets[S][cssRules][R].selectorText==theClass)if(document.styleSheets[S][cssRules][R].style[theElement]){sResult=document.styleSheets[S][cssRules][R].style[theElement];break}return sResult},Utilities.findControlsWithAttribute=function(baseObj,attName){var result=null,checkAtt=null,iKidCount,checkKids;typeof baseObj.getAttribute=="object"&&(checkAtt=baseObj.getAttribute(attName));if(checkAtt!=null)result=new Array(baseObj);else for(iKidCount=0;iKidCount<baseObj.childNodes.length;iKidCount++)checkKids=Utilities.findControlsWithAttribute(baseObj.childNodes[iKidCount],attName),checkKids!=null&&(result=result==null?checkKids:result.concat(checkKids));return result},Utilities.getTagsFromXML=function(resultXML,tagName){var resultTags=null,parser,xmlDoc;try{xmlDoc=new ActiveXObject("Microsoft.XMLDOM"),xmlDoc.async="false",xmlDoc.loadXML(resultXML)}catch(e){try{parser=new DOMParser,xmlDoc=parser.parseFromString(resultXML,"text/xml")}catch(e){xmlDoc==null}}return xmlDoc!=null&&xmlDoc.childNodes.length>0&&(resultTags=xmlDoc.getElementsByTagName(tagName)),resultTags},Utilities.EncodeDateTime=function(strDate){var sResult=strDate;return sResult=sResult.replace(/:/g,"!"),sResult=sResult.replace(/ /g,"+")},Utilities.GetHourValues=function(iHour){var sHourName="",sHourVal=iHour+":00:00";return iHour==0?sHourName="12:00 AM":iHour==24?(sHourName="11:59 PM",sHourVal="23:59:59"):sHourName=iHour==12?"12:00 PM":iHour<12?iHour+":00 AM":iHour-12+":00 PM",{text:sHourName,value:sHourVal}},Utilities.GetEndDayOfMonth=function(month,year){var result=31,isLeap;switch(month){case 0:case 2:case 4:case 6:case 7:case 9:case 11:result=31;break;case 3:case 5:case 8:case 10:result=30;break;case 1:isLeap=new Date(year,1,29).getDate()==29,result=isLeap?29:28}return result},Utilities.GetParentObject=function(varObject,varTagType){var wrkElement=varObject;while(wrkElement.tagName!=varTagType)wrkElement=Env.is_firefox?wrkElement.parentNode:wrkElement.parentElement;return wrkElement},Utilities.GetFirstElementInObject=function(parentObj,tagName){var elemResult=null,iCount;if(parentObj&&parentObj.childNodes&&parentObj.childNodes.length>0)for(iCount=0;iCount<parentObj.childNodes.length;iCount++)if(parentObj.childNodes[iCount].tagName==tagName){elemResult=parentObj.childNodes[iCount];break}else{elemResult=Utilities.GetFirstElementInObject(parentObj.childNodes[iCount],tagName);if(elemResult!=null)break}return elemResult},Utilities.GetIframeByName=function(ifrmName){var ifrm=null;return ifrm=Env.is_firefox?frames[ifrmName]:document.getElementById(ifrmName)},Validation.paramNodeListName="PARAMS",Validation.paramNodeName="PARAM",Validation.errorMessage="Errors were detected.",Validation.validationErrorNodeListName="ArrayOfValidationError",Validation.validationErrorNodeName="ValidationError",Validation.validationExtErrorNodeListName="ArrayOfValidationExtError",Validation.validationExtErrorNodeName="ValidationExtError",Validation.validationErrorTypeNodeName="Type",Validation.validationErrorFieldNodeName="Field",Validation.validationErrorIndexNodeName="Index",Validation.validationErrorRowIdNodeName="RowId",Validation.submittingMessage="Submitting...",Validation.validatingMessage="Validating...",Validation.buildParamNodeListStartTag=function(){return"<"+Validation.paramNodeListName+">"},Validation.buildParamNodeListEndTag=function(){return"</"+Validation.paramNodeListName+">"},Validation.buildParamNode=function(name,value){return"<"+Validation.paramNodeName+' name="'+name+'" value="'+Validation.xmlEncode(value)+'" />'},Validation.buildUserParams=function(){return Validation.buildParamNode("shopperId",Validation.shopperId())+Validation.buildParamNode("userId",Validation.userId())+Validation.buildParamNode("userType",Validation.userType())+Validation.buildParamNode("environment",Validation.environment())},Validation.errors=[],Validation.clearAllErrors=function(){for(var i=0;i<Validation.errors.length;i++)Validation.clearSingleError(Validation.errors[i]),i--;Validation.hideGeneralMessage()},Validation.clearAllErrorsNoFieldClass=function(){for(var i=0;i<Validation.errors.length;i++)Validation.clearSingleErrorNoFieldClass(Validation.errors[i]),i--;Validation.hideGeneralMessage()},Validation.clearErrorTabs=function(bHasError){var oFind=$("#tabs").find("a span");bHasError?oFind.addClass("tabError"):oFind.removeClass()},Validation.getCurrentTabIndex=function(){return $("#tabs").tabs("option","selected")},Validation.clearSingleError=function(fieldName){var errorField=GDEvent.get(fieldName),errorSpan=GDEvent.get(fieldName+"Error"),errorLabel=GDEvent.get(fieldName+"Label"),j;for(errorField&&$(errorField).removeClass("error"),errorSpan&&Validation.updateText(errorSpan,""),errorLabel&&(errorLabel.className=""),j=0;j<Validation.errors.length;j++)if(Validation.errors[j]==fieldName){Validation.errors.splice(j,1);break}},Validation.clearSingleErrorNoFieldClass=function(fieldName){var errorField=GDEvent.get(fieldName),errorSpan=GDEvent.get(fieldName+"Error"),errorLabel=GDEvent.get(fieldName+"Label"),j;for(errorField&&(errorField.title=""),errorSpan&&Validation.updateText(errorSpan,""),errorLabel&&(errorLabel.className=""),j=0;j<Validation.errors.length;j++)if(Validation.errors[j]==fieldName){Validation.errors.splice(j,1);break}},Validation.showError=function(fieldName,errorText){var errorField=GDEvent.get(fieldName),errorSpan=GDEvent.get(fieldName+"Error"),errorLabel=GDEvent.get(fieldName+"Label");errorField&&$(errorField).addClass("error"),errorSpan&&Validation.updateText(errorSpan,errorText),errorLabel&&(errorLabel.className="error",errorLabel.title=errorText)},Validation.showHTMLError=function(fieldName,errorText,hoverText){var errorField=GDEvent.get(fieldName),errorSpan=GDEvent.get(fieldName+"Error"),errorLabel=GDEvent.get(fieldName+"Label");errorField,errorSpan&&Validation.updateInnerHTML(errorSpan,errorText),errorLabel&&(errorLabel.className="error",errorLabel.title=hoverText)},Validation.raiseError=function(fieldName,errorText){for(var bPreExistingError=!1,i=0;i<Validation.errors.length;i++)if(Validation.errors[i]==fieldName){bPreExistingError=!0;break}bPreExistingError||Validation.errors.push(fieldName),Validation.showError(fieldName,errorText)},Validation.raiseHTMLError=function(fieldName,errorText,hoverText){for(var bPreExistingError=!1,i=0;i<Validation.errors.length;i++)if(Validation.errors[i]==fieldName){bPreExistingError=!0;break}bPreExistingError||Validation.errors.push(fieldName),Validation.showHTMLError(fieldName,errorText,hoverText)},Validation.showGeneralErrorMessage=function(){Validation.showGeneralMessage(Validation.errorMessage,!0,"dropinerrormessage")},Validation.showGeneralMessage=function(sMessage,bShowIcon,classname){var spanDropInMessageClientId=GDEvent.get("spanDropInMessageClientId"),spanDropInMessage,spanDropInMessageIconClientId,spanDropInIcon;spanDropInMessageClientId&&(spanDropInMessage=GDEvent.get(spanDropInMessageClientId.value),classname&&(spanDropInMessage.className=classname),Validation.updateText(spanDropInMessage,sMessage)),bShowIcon&&(spanDropInMessageIconClientId=GDEvent.get("spanDropInMessageIconClientId"),spanDropInMessageIconClientId&&(spanDropInIcon=GDEvent.get(spanDropInMessageIconClientId.value),spanDropInIcon.style.display=""))},Validation.hideGeneralMessage=function(){var spanDropInMessageClientId=GDEvent.get("spanDropInMessageClientId"),spanDropInMessage,spanDropInMessageIconClientId,spanDropInIcon;spanDropInMessageClientId&&(spanDropInMessage=GDEvent.get(spanDropInMessageClientId.value),Validation.updateText(spanDropInMessage,""),spanDropInMessage.className="dropinmessage"),spanDropInMessageIconClientId=GDEvent.get("spanDropInMessageIconClientId"),spanDropInMessageIconClientId&&(spanDropInIcon=GDEvent.get(spanDropInMessageIconClientId.value),spanDropInIcon.style.display="none")},Validation.setErrorTab=function(tabIndex,bIsSelected,bHasError){var oFind=$("#tabs").find("a span");oFind[tabIndex].className=bHasError?"tabError":""},Validation.setAllErrorTab=function(bIsSelected,bHasError){var oFind=$("#tabs").find("a span");oFind.className=bHasError?"tabError":""},Validation.showSubmittingMessage=function(){Validation.showBusyMessage(Validation.submittingMessage)},Validation.showValidatingMessage=function(){Validation.showBusyMessage(Validation.validatingMessage)},Validation.showBusyMessage=function(sMessage){var spanBusyMessage=GDEvent.get("spanBusyMessage"),divProgressBar;Validation.updateText(spanBusyMessage,sMessage),divProgressBar=GDEvent.get("divProgressBar"),divProgressBar.style.display=""},Validation.hideBusyMessage=function(){var spanBusyMessage=GDEvent.get("spanBusyMessage"),divProgressBar;Validation.updateText(spanBusyMessage,""),divProgressBar=GDEvent.get("divProgressBar"),divProgressBar.style.display="none"},Validation.getNextNode=function(data,nodeName,startIndex,bIncludeParentTags){var node="",startTag="<"+nodeName+">",stopTag="</"+nodeName+">",nodeStartIndex=data.indexOf(startTag,startIndex)+(bIncludeParentTags?0:startTag.length),nodeStopIndex;return nodeStartIndex==-1&&(startTag="<"+nodeName+" ",nodeStartIndex=data.indexOf(startTag,startIndex)+(bIncludeParentTags?0:startTag.length)),nodeStartIndex>-1&&(nodeStopIndex=data.indexOf(stopTag,nodeStartIndex)+(bIncludeParentTags?stopTag.length:0),(nodeStopIndex==-1||bIncludeParentTags&&nodeStopIndex==stopTag.length-1)&&(stopTag="/>",nodeStopIndex=data.indexOf(stopTag,nodeStartIndex)+(bIncludeParentTags?stopTag.length:0)),node=data.substring(nodeStartIndex,nodeStopIndex)),node},Validation.getAttributesOnlyNextNode=function(data,nodeName,startIndex,bIncludeParentTags){var node="",startTag="<"+nodeName+" ",stopTag="/>",nodeStartIndex=data.indexOf(startTag,startIndex)+(bIncludeParentTags?0:startTag.length),nodeStopIndex;return nodeStartIndex>-1&&(nodeStopIndex=data.indexOf(stopTag,nodeStartIndex)+(bIncludeParentTags?stopTag.length:0),node=data.substring(nodeStartIndex,nodeStopIndex)),node},Validation.getNodeAttribute=function(data,attrib){var attribValue="",nodeStartIndex=data.indexOf(attrib+'="',0),nodeStopIndex;return nodeStartIndex>-1&&(nodeStartIndex=nodeStartIndex+attrib.length+2,nodeStopIndex=data.indexOf('"',nodeStartIndex),attribValue=data.substring(nodeStartIndex,nodeStopIndex)),attribValue},Validation.isEmpty=function(data){return data.replace(" ","")==""},Validation.updateText=function(element,value){element&&(Env.is_gecko?element.textContent=value:element.innerText=value)},Validation.updateInnerHTML=function(element,value){element&&(element.innerHTML=Env.is_gecko?value:value)},Validation.appendInnerHTML=function(element,value){var oldHTML=element.innerHTML;element&&(element.innerHTML=Env.is_gecko?oldHTML+value:oldHTML+value)},Validation.getText=function(element){return element?Env.is_gecko?element.textContent:element.innerText:""},Validation.htmlEncode=function(value){var encodedValue=value;return encodedValue=encodedValue.replace(/</g,"&lt;"),encodedValue=encodedValue.replace(/>/g,"&gt;"),encodedValue=encodedValue.replace(/"/g,"&quot;")},Validation.urlEncode=function(value){var encodedValue=value;return encodedValue=encodedValue.replace(/&/g,"&amp;")},Validation.urlDecode=function(value){var decodedValue=value;return decodedValue=decodedValue.replace(/&amp;/g,"&")},Validation.xmlEncode=function(value){var encodedValue=value;return encodedValue&&(encodedValue=encodedValue.replace(/&/g,"&amp;"),encodedValue=encodedValue.replace(/"/g,"&quot;"),encodedValue=encodedValue.replace(/</g,"&lt;"),encodedValue=encodedValue.replace(/>/g,"&gt;")),encodedValue},Validation.xmlEncode2=function(value){var encVal=value;return encVal&&(encVal=encVal.replace(/&/g,"&amp;"),encVal=encVal.replace(/</g,"&lt;"),encVal=encVal.replace(/>/g,"&gt;"),encVal=encVal.replace(/'/g,"&apos;"),encVal=encVal.replace(/"/g,"&quot;")),encVal},Validation.checkMaxLength=function(ev,control){var iCheckMaxLength=control.getAttribute("MLMaxLength"),sValue=control.value;!iCheckMaxLength||sValue.length<=iCheckMaxLength-1||ev.keyCode==8||ev.keyCode==46||ev.keyCode==37||ev.keyCode==38||ev.keyCode==39||ev.keyCode==40||(ev.returnValue=!1)},nonAlphaNumMatch=/[^a-zA-Z0-9]/,Validation.IsAlphaNumeric=function(value){return!IsMatch(value,nonAlphaNumMatch)},nonAsciiMatch=/[^\x20-\x7E]/,Validation.IsAscii=function(value){return!IsMatch(value,nonAsciiMatch)},Validation.IsMatch=function(value,match){var v=value.match(match);return v&&v.length>0?!0:!1},Validation.validateInteger=function(strValue){var objRegExp=/(^-?\d\d*$)/;return objRegExp.test(strValue)},Validation.validateMoney=function(strValue){var objRegExp=/^([0-9]+|[0-9]{1,3}(,[0-9]{3})*)(\.[0-9]{2})?$/;return objRegExp.test(strValue)},Validation.doBeforePaste=function(ev,control){var iCheckMaxLength=control.getAttribute("MLMaxLength");iCheckMaxLength&&(ev.returnValue=!1)},Validation.checkPasteLength=function(ev,control){var iCheckMaxLength=control.getAttribute("MLMaxLength"),sValue=control.value,oTR,selText,ctrlSel,iInsertLength,sData,textArea;iCheckMaxLength&&window.clipboardData&&(oTR=null,ev.returnValue=!1,iCheckMaxLength=parseInt(iCheckMaxLength),selText="",control.document.selection?(oTR=control.document.selection.createRange(),selText=oTR.text):window.getSelection&&(ctrlSel=window.getSelection(),selText=ctrlSel.toString()),iInsertLength=iCheckMaxLength-sValue.length+selText.length,sData=window.clipboardData.getData("Text").substr(0,iInsertLength),oTR?oTR.text=sData:(textArea=window.document.querySelector("textarea"),textarea.value=sData))},Validation.TotalBlockPaste=function(ev){ev.returnValue=!1},Validation.firefoxCheckForPaste=function(ev,control){var isPaste,currentText,previousText;Env.is_firefox&&(isPaste=!1,ev=ev?ev:window.event,currentText=control.value,previousText=control.getAttribute("previousValue"),previousText==null&&(previousText=""),currentText!=previousText&&currentText.length>previousText.length+1&&(isPaste=!0),isPaste&&(control.value=previousText),control.setAttribute("previousValue",control.value))},Validation.checkMaxRow=function(ev,control){var iCheckMaxLength=control.getAttribute("MLMaxRow"),sValue=control.value,aRows=sValue.replace(/\r/g,"").split("\n"),curRowEnter;!iCheckMaxLength||aRows.length<=iCheckMaxLength||ev.keyCode==8||ev.keyCode==46||ev.keyCode==37||ev.keyCode==38||ev.keyCode==39||ev.keyCode==40||(curRowEnter=sValue.indexOf("\n",control.selectionStart),(ev.keyCode==13||curRowEnter<0)&&(ev.returnValue=!1))},Validation.checkPasteRows=function(ev,control){var iCheckMaxLength=control.getAttribute("MLMaxRow"),sValue=control.value,oTR,selText,ctrlSel,pasteText,aRows;iCheckMaxLength&&window.clipboardData&&(oTR=null,iCheckMaxLength=parseInt(iCheckMaxLength),selText="",control.document.selection?(oTR=control.document.selection.createRange(),selText=oTR.text):window.getSelection&&(ctrlSel=window.getSelection(),selText=ctrlSel.toString()),pasteText=window.clipboardData.getData("Text"),sValue=selText!=""?sValue.replace(selText,pasteText):control.selectionStart<sValue.length?control.selectionStart==0?pasteText+sValue:sValue.substr(0,control.selectionStart)+pasteText+sValue.substr(control.selectionStart):sValue+pasteText,aRows=sValue.replace(/\r/g,"").split("\n"),aRows.length>iCheckMaxLength&&(ev.returnValue=!1))},"function"!=typeof"".format&&(String.prototype.format=function(){var rx1=/\{(\d|\d\d)\}/g,rx2=/\d+/;return function(){var args=arguments;return this.replace(rx1,function($0){var idx=1*$0.match(rx2)[0];return args[idx]!==undefined?args[idx]:args[idx]===""?"":$0})}}()),String.prototype.endsWith=function(suffix){return this.substr(this.length-suffix.length)===suffix},String.prototype.startsWith=function(prefix){return this.substr(0,prefix.length)===prefix},typeof String.prototype.trim!="function"&&(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),Array.max=function(array){return Math.max.apply(Math,array)},Array.min=function(array){return Math.min.apply(Math,array)},DUELDataGrid.DataGridHeight=function(datagrid,maxRows){var maxHeight=0,overlay=$(datagrid).closest("div.sf-datagrid-main").find("div.sf-msg-overlay-wrap");if(overlay&&overlay.length>0)maxHeight=overlay.outerHeight();else{var count=maxRows,rows=$(datagrid).find("tbody tr"),rowHeight=$(datagrid).find("tbody tr").outerHeight(),offset=$(datagrid).outerHeight()-rows.length*rowHeight;rows&&rows.length>0&&rows.length<count&&(count=rows.length),maxHeight=count*rowHeight+offset}return maxHeight},DUELDataGrid.RenderComplete=function(datagrid,width,maxRows,includeResize){var gridScroll,scrollHeight,height;width>0||($(datagrid).closest("div.sf-datagrid-main").css("width","100%"),$(datagrid).find("tbody tr").length==0&&$(datagrid).closest(".sf-datagrid-tablewrap").css("width","100%")),$(datagrid).closest("div.sf-datagrid-main").find("th, td div.sf-datagrid-dg-render").each(function(){$(this).is("th")?$(this).attr("title",$(this).text()):$(this).attr("title",$(this).closest("td").attr("data-raw")),$(this).css({whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})}),gridScroll=$(datagrid).closest("div.sf-datagrid-xbody"),gridScroll&&(scrollHeight=DUELDataGrid.DataGridHeight(datagrid,maxRows),!isNaN(scrollHeight)&&scrollHeight>0&&($.each(["border-top-width","border-bottom-width"],function(index,value){height=parseInt(gridScroll.css(value)),isNaN(height)||(scrollHeight+=height)}),gridScroll.css({height:scrollHeight+"px"}),includeResize&&AutoResize()))},DUELDataGrid.Comparator=function(comparatorFunc){var f=DUELDataGrid.ComparesUnused;switch(comparatorFunc){case"string":f=DUELDataGrid.ComparesString;break;case"int":f=DUELDataGrid.ComparesInt;break;case"ip":f=DUELDataGrid.ComparesIP;break;case"date":f=DUELDataGrid.ComparesDate;break;case"bool":f=DUELDataGrid.ComparesBool}return f},DUELDataGrid.ComparesBool=function(a,b,asc){return a=a==="true"?!0:a===!0?!0:!1,b=b==="true"?!0:b===!0?!0:!1,a=a===!0?asc?-1:1:0,b=b===!0?asc?-1:1:0,a===b?0:a>b?1:-1},DUELDataGrid.ComparesInt=function(a,b,asc){var compare=a===b?0:a>b?1:-1,direction=asc?1:-1;return compare*direction},DUELDataGrid.ComparesString=function(a,b,asc){var compare=a===b?0:a>b?1:-1,direction=asc?1:-1;return compare*direction},DUELDataGrid.ComparesIP=function(a,b,asc){var pa,pb;if(a===b)result=0;else{var parts1=a.split("."),parts2=b.split("."),i=0;do pa=parseInt(parts1[i]),pb=parseInt(parts2[i]),result=pa===pb?0:pa>pb?1:-1,i++;while(result==0&&i<parts1.length)}return result*(asc?1:-1)},DUELDataGrid.ComparesDate=function(a,b,asc){function isValidDate(d){return Object.prototype.toString.call(d)!=="[object Date]"?!1:!isNaN(d.getTime())}var a=new Date(a),b=new Date(b),compare,direction;return a=isValidDate(a)?a:new Date(0),b=isValidDate(b)?b:new Date(0),compare=a.getTime()===b.getTime()?0:a.getTime()>b.getTime()?1:-1,direction=asc?1:-1,compare*direction},DUELDataGrid.ComparesUnused=function(a,b,asc){return asc?1:-1},DUELDataGrid.BaseRecord={dataParser:function(rawData){function parser(queryInfo){function getData(){var col,r;queryInfo.sortColumn===undefined||isNaN(parseInt(queryInfo.sortColumn))||(col=parseInt(queryInfo.sortColumn),col>-1&&sortData(col,queryInfo.sortDirection==="desc"?!1:!0));var b=getBoundaries(),rows=rawData,colIndex=$.inArray(queryInfo.searchType,colNames);return queryInfo.searchText&&colIndex>-1?rows=filterData(colIndex,queryInfo.searchText):queryInfo.searchText&&queryInfo.searchType==="search"&&(rows=searchData(queryInfo.searchText)),r=rows.slice(b.start,b.end),{rows:r,totalCount:rows.length}}function sortData(col,asc){var rows=rawData,swapped,passes=0,count=rows.length,compare=DUELDataGrid.Comparator(compares[col]),i,move,temp;do{for(swapped=!1,i=0;i<count-1;i++)move=compare(rows[i][col],rows[i+1][col],asc)>0,move&&(temp=rows[i],rows[i]=rows[i+1],rows[i+1]=temp,swapped=!0);passes++;if(passes>3e3)break}while(swapped);return!0}function filterData(col,value){var rows=rawData,i;if(!rows||rows.length===0)return!1;if(value.length===0)return rows;var count=rows.length,compare=DUELDataGrid.Comparator(compares[col]),filtered=[];for(i=0;i<count-1;i++)compare(rows[i][col],value,!0)===0&&filtered.push(rows[i]);return filtered}function searchData(value){var rows=rawData,i,j,compare;if(!rows||rows.length===0)return!1;if(value.length===0)return rows;var rcount=rows.length,ccount=colNames.length,filtered=[];for(i=0;i<rcount-1;i++)for(j=1;j<ccount-1;j++)compare=DUELDataGrid.Comparator(compares[j]),compare(rows[i][j],value,!0)===0&&filtered.push(rows[i]);return filtered}function getBoundaries(){var count=rawData.length,page=parseInt(queryInfo.page),ipp,start,end;return page=isNaN(page)?page=1:page,ipp=parseInt(queryInfo.itemsPerPage),ipp=isNaN(ipp)?ipp=count:ipp,start=ipp*(page-1),start=start<0?0:start,end=start+ipp,end=end>count?count:end,{start:start,end:end}}var data=getData();return{data:{rows:data.rows},meta:{code:200,paging:{page:queryInfo.page,itemsPerPage:queryInfo.itemsPerPage,totalItemCount:data.totalCount},sorting:{col:queryInfo.sortColumn,dir:queryInfo.sortDirection}}}}var colNames=this.colNames,compares=this.compares;return parser}},Currency.parse=function(sValue,currencySymbol,decimalSeparator,thousandsSeparator){var results=0,sTmp=sValue.replace(currencySymbol,""),regTmp=new RegExp(Currency.RegExpEscape(thousandsSeparator),"g");return sTmp=sTmp.replace(regTmp,""),decimalSeparator!="."&&(regTmp=new RegExp(Currency.RegExpEscape(decimalSeparator),"g"),sTmp=sTmp.replace(regTmp,".")),results=parseFloat(sTmp)},Currency.round=function(dValue,sCurrencyDecimalPrecision){var result=0,dCurrencyDecimalPrecision=parseFloat(sCurrencyDecimalPrecision),currencyDecimalFactor;return dCurrencyDecimalPrecision>0?(currencyDecimalFactor=Math.pow(10,dCurrencyDecimalPrecision),result=Math.ceil(dValue*currencyDecimalFactor)/currencyDecimalFactor):result=Math.ceil(dValue),result},Currency.format=function(dPrice,symbol,prefixSymbol,sDecimalPrecision,decimalSeparator,thousandsSeparator){return Currency.formatDecimalPrice(dPrice,symbol,prefixSymbol,sDecimalPrecision,decimalSeparator,thousandsSeparator)},Currency.formatDecimalPrice=function(dPrice,symbol,prefixSymbol,sDecimalPrecision,decimalSeparator,thousandsSeparator){var nPrice=0,dDecimalPrecision=parseFloat(sDecimalPrecision),currencyDecimalFactor;return dDecimalPrecision>0?(currencyDecimalFactor=Math.pow(10,dDecimalPrecision),nPrice=Math.ceil(dPrice*currencyDecimalFactor)):nPrice=dPrice,Currency.formatIntegerPrice(nPrice,symbol,prefixSymbol,sDecimalPrecision,decimalSeparator,thousandsSeparator)},Currency.formatIntegerPrice=function(price,symbol,prefixSymbol,sDecimalPrecision,decimalSeparator,thousandsSeparator){var decimalPrecision=parseFloat(sDecimalPrecision),workingPrice=price.toString(),isNegative=workingPrice.indexOf("-")>-1,padCount,threePlusSeparator,result;workingPrice=workingPrice.replace("-",""),padCount=decimalPrecision+1,workingPrice=Currency.padLeft(workingPrice,"0",padCount);var decimalChars="",nonDecimalChars="",thousandsChars="",millionsChars="";return decimalPrecision>0?(decimalChars=decimalSeparator+workingPrice.substr(workingPrice.length-decimalPrecision),nonDecimalChars=workingPrice.substr(0,workingPrice.length-decimalPrecision)):nonDecimalChars=workingPrice,nonDecimalChars.length>3&&thousandsSeparator.length>0&&(thousandsChars=nonDecimalChars.substr(0,nonDecimalChars.length-3)+thousandsSeparator,nonDecimalChars=nonDecimalChars.substr(nonDecimalChars.length-3),threePlusSeparator=3+thousandsSeparator.length,thousandsChars.length>threePlusSeparator&&(millionsChars=thousandsChars.substr(0,thousandsChars.length-threePlusSeparator)+thousandsSeparator,thousandsChars=thousandsChars.substr(thousandsChars.length-threePlusSeparator))),result=""+millionsChars+thousandsChars+nonDecimalChars+decimalChars,result=prefixSymbol?symbol+result:result+symbol,isNegative&&(result="-"+result),result},Currency.RegExpEscape=function(str){var sResults=str;switch(str){case"{":sResults="\\{";break;case"}":sResults="\\}";break;case"[":sResults="\\[";break;case"]":sResults="\\]";break;case"*":sResults="\\*";break;case"+":sResults="\\+";break;case"?":sResults="\\?";break;case"!":sResults="\\!";break;case"$":sResults="\\$";break;case".":sResults="\\.";break;case"^":sResults="\\^"}return sResults},Currency.padLeft=function(str,ch,cnt){var max,idx;if(!str||!ch||str.length>=cnt)return str;for(max=(cnt-str.length)/ch.length,idx=0;idx<max;idx++)str=ch+str;return str},Currency.padRight=function(str,ch,cnt){var max,idx;if(!str||!ch||str.length>=cnt)return str;for(max=(cnt-str.length)/ch.length,idx=0;idx<max;idx++)str+=ch;return str},OfferSections.UpdateOffers=function(offerResults,ddlList){for(var bShowTab=!1,curOffer,offerSec,iDDLCount,refDDL,offerDDL,iOfferCounter=0;iOfferCounter<offerResults.length;iOfferCounter++){curOffer=offerResults[iOfferCounter],offerSec=$("#div"+curOffer.OfferID);if(curOffer.ShowOffer){offerSec.css("display",""),bShowTab=!0;var upgradeHave=offerSec.find(".upgrade-haveproduct"),upgradeBtn=offerSec.find(".btn-sm"),lnkQualify=offerSec.find(".upgrade-domainqualify"),offPrice=offerSec.find(".upgrade-fragment-prodprice");upgradeBtn&&upgradeBtn.length>0&&upgradeBtn.css("display",curOffer.Available?"":"none"),lnkQualify&&lnkQualify.length>0&&(curOffer.Available?(lnkQualify.css("display",""),lnkQualify.html(curOffer.DomainQualify)):lnkQualify.css("display","none")),offPrice&&offPrice.length>0&&curOffer.Price&&curOffer.Price!=""&&offPrice.html(curOffer.Price),upgradeHave&&upgradeHave.length>0&&curOffer.HaveProductText&&curOffer.HaveProductText!=""&&(upgradeHave.html(curOffer.HaveProductText),upgradeHave.css("display",""));if(curOffer.DropDowns&&curOffer.DropDowns.length>0)for(iDDLCount=0;iDDLCount<curOffer.DropDowns.length;iDDLCount++)refDDL=curOffer.DropDowns[iDDLCount],refDDL.HTML!=""&&ddlList&&(offerDDL=ddlList.filter(function(){return this.id==refDDL.DropDownID}),offerDDL&&offerDDL.length>0&&offerDDL.html(refDDL.HTML))}else offerSec.css("display","none")}return bShowTab},OfferSections.SetDropdowns=function(tabID,ddlList){var tabDDL=ddlList.filter(function(){return $(this).parents("#"+tabID).length>=1}),iCounter,curCtrl,objAtt;if(tabDDL&&tabDDL.length>0){for(iCounter=0;iCounter<tabDDL.length;iCounter++){var curCtrl=$(tabDDL[iCounter]),listMaxHeight=OfferSections.GetControlIntValues(curCtrl,"listMaxHeight",180),width=OfferSections.GetControlIntValues(curCtrl,"width",265),listWidth=OfferSections.GetControlIntValues(curCtrl,"listWidth",width);curCtrl.sfDropList({context:self,displayContext:parent,listMaxHeight:listMaxHeight,width:width,listWidth:listWidth,onValueChanged:function(droplistElement,liElement,value){OfferSections.DropDownChanged(droplistElement,liElement,value,ddlList)},ensureTopZIndex:!0})}for(iCounter=0;iCounter<tabDDL.length;iCounter++)curCtrl=$(tabDDL[iCounter]),objAtt=curCtrl.attr("callobj"),objAtt!=null&&objAtt!=""&&OfferSections.UpdateDropdown(curCtrl,ddlList)}},OfferSections.RadioClick=function(ctrl,ddlList){ctrl.checked&&OfferSections.CallUpdates($(ctrl),ddlList)},OfferSections.DropDownChanged=function(droplistElement,liElement,value,ddlList){OfferSections.CallUpdates(droplistElement,ddlList)},OfferSections.CallUpdates=function(ctrl,ddlList){var upId=ctrl.attr("updateobj"),splitInfo,iCount,upObj;if(upId!=null&&upId!="")for(splitInfo=upId.split("|"),iCount=0;iCount<splitInfo.length;iCount++)upObj=$("#"+splitInfo[iCount]),upObj&&upObj.length>0?OfferSections.UpdateDropdown(upObj,ddlList):(upObj=parent.$("#"+splitInfo[iCount]),upObj&&upObj.length>0&&OfferSections.UpdateDropdown(upObj,ddlList))},OfferSections.UpdateDropdown=function(updateObj,ddlList){for(var objValues={},listObjString=updateObj.attr("callobj"),splitInfo=listObjString.split("|"),innerSplit,typectrl,ctrlName,usectrl,sEnableSelect,key,sValue,findDDL,iCount=0;iCount<splitInfo.length;iCount++){innerSplit=splitInfo[iCount].split("+");if(innerSplit.length==2){typectrl=innerSplit[0],ctrlName=innerSplit[1];if(typectrl=="radio")usectrl=$("input:radio[name="+ctrlName+"]:checked"),usectrl&&usectrl.length>0&&(objValues[ctrlName]=usectrl.val());else if(typectrl=="dropdown"){var useObj=$("#"+ctrlName),selValue=null,findDDL=ddlList.filter("#"+ctrlName);findDDL&&findDDL.length>0&&(selValue=findDDL.sfDropList("val")),objValues[ctrlName]=selValue}}}sEnableSelect="li";for(key in objValues)sValue=objValues[key],sEnableSelect+="["+key+"='"+sValue+"']";var arrShow=updateObj.find(sEnableSelect),sAlreadySel=sEnableSelect+"[def-sel='true']",arrAlready=updateObj.find(sAlreadySel);updateObj.find("li").css("display","none"),arrShow.css("display",""),findDDL=ddlList.filter("#"+updateObj[0].id),findDDL&&findDDL.length>0&&(arrAlready&&arrAlready.length>0?findDDL.sfDropList("selectItem",{item:$(arrAlready[0]),forceRefresh:!0}):findDDL.sfDropList("selectItem",{item:$(arrShow[0]),forceRefresh:!0}))},OfferSections.CartUpdateOnSection=function(offerid,linkMessage,linkedOffers){var offerObj=$("#"+offerid),btnAdd=offerObj.find("a.btn-warning"),lblAdd=offerObj.find(".upgrade-incart"),iOffCount,sLinkID,oLinkObj,lblLink,btnLinkAdd,lblInCart;btnAdd&&btnAdd.css("display","none"),lblAdd&&lblAdd.css("display","");if(linkMessage&&linkedOffers&&linkedOffers.length>0)for(iOffCount=0;iOffCount<linkedOffers.length;iOffCount++)sLinkID="div"+linkedOffers[iOffCount],oLinkObj=GDEvent.get(sLinkID),oLinkObj&&(lblLink=$(oLinkObj).find(".upgrade-productaddon"),lblLink&&lblLink.length>0&&(btnLinkAdd=$(oLinkObj).find("a.btn-warning"),lblInCart=$(oLinkObj).find(".upgrade-incart"),btnLinkAdd&&btnLinkAdd.length>0&&btnLinkAdd.css("display")!="none"?(lblLink.html(linkMessage),lblLink.css("display",""),btnLinkAdd.css("display","none")):lblInCart&&lblInCart.length>0&&lblInCart.css("display")!="none"?(lblLink.html(linkMessage),lblLink.css("display",""),lblInCart.css("display","none")):lblLink&&lblLink.length>0&&lblLink.css("display")!="none"&&lblLink.html(linkMessage)))},OfferSections.GetControlIntValues=function(ctrl,ctlatt,defValue){return Math.floor(parseFloat(ctrl.attr(ctlatt)))>0?Math.floor(parseFloat(ctrl.attr(ctlatt))):defValue},OfferSections.CloseOverlayWithID=function(contID){var contObj=GDEvent.get(contID);contObj&&ShowOverlay(contObj,null)},OfferSections.ShowOverlay=function(container,ovMessage){$(container).sfMsgOverlay({message:ovMessage})},OfferSections.GetSelectedProduct=function(divID,ddlList){var sellOfferDivObj=GDEvent.get(divID),selValue="",selDuration="1",selQuantity="1",baseID,offerDDL,ddlProducts,selItem;return sellOfferDivObj&&(baseID=$(sellOfferDivObj).attr("productid"),baseID&&baseID!=""&&(selValue=baseID),offerDDL=$(sellOfferDivObj).attr("offerddl"),offerDDL&&offerDDL!=""&&(ddlProducts=ddlList.filter("#"+offerDDL),ddlProducts&&ddlProducts.length>0&&(selValue=ddlProducts.sfDropList("val"),selItem=ddlProducts.sfDropList("selectedItem"),selDuration=selItem.attr("duration"),selQuantity=selItem.attr("quantity")))),{value:selValue,duration:selDuration,quantity:selQuantity}},OfferSections.BringUpDBP=function(ctrl){var offerArea=$(ctrl).closest(".upgrade-fragment"),bShowIt=!1,offerDivID="",offerID,chkPriv,chkBtn;if(offerArea&&offerArea.length>0){offerDivID=offerArea[0].id,offerID=offerDivID.substring(3);switch(offerID){case"private":bShowIt=!0;break;case"protregold":case"protregnew":case"delreg":chkPriv=GDEvent.get("divprivate"),chkPriv&&(chkBtn=$(chkPriv).find("a.btn-warning"),chkBtn&&chkBtn.length>0&&chkBtn.css("display")!="none"&&(bShowIt=!0))}}return{show:bShowIt,divID:offerDivID}}